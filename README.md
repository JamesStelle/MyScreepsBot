# Screeps AI Bot 集合

一个功能完整的 Screeps 自动化殖民地管理系统集合，包含多个版本的AI机器人和自动布局工具。

## 📁 项目结构

```
├── 408Bot2/                    # 第二版本AI机器人
├── 408Bot3/                    # 第三版本AI机器人  
├── 63超级抠位置自动布局 傻瓜版/    # 自动布局工具
├── LICENSE                     # 开源许可证
└── README.md                   # 项目说明文档
```

## 🤖 AI机器人版本

### 408Bot2 & 408Bot3

两个高度优化的 Screeps AI 系统，实现了完整的殖民地自动化管理。

#### 🌟 核心特性

- **🤖 智能角色系统**：专业化分工，每个creep角色都有明确职责
- **⚡ 能量管理系统**：实时监控，智能分配，效率优化
- **🏗️ 基础设施维护**：自动修复，容器管理，建造优化
- **🔗 Link传输系统**：智能能量传输，优化资源分配
- **🏰 Tower防御系统**：自动防御，友军白名单支持
- **🎯 PRTS监控系统**：精密侦察战术支援，全面状态监控
- **🏠 通用房间管理**：多RCL支持，自适应配置

#### 📋 角色系统

**采集角色**
- `harvester0/harvester1` - 专业能量采集者
- `harvesterMineral` - 矿物采集专家

**运输角色**  
- `carrier` - 通用能量运输者
- `carrierMineral` - 矿物运输专家
- `transferee` - 任务驱动型运输者

**建设角色**
- `upgrader` - 控制器升级专家
- `builder` - 建造和修复专家

**军事角色**
- `attacker` - 攻击单位
- `healer` - 治疗单位
- `defender` - 防御单位
- `signer` - 控制器签名者

#### 🎮 使用方法

1. **部署代码**
   ```javascript
   // 上传所有文件到Screeps代码库
   // 确保房间名称配置正确
   ```

2. **系统配置**
   ```javascript
   // 修改 config.js
   module.exports = {
       excludeRooms: ['E39N8'],     // 排除房间
       whitelist: ['MoSaSa'],       // 友军白名单
   };
   ```

3. **监控命令**
   ```javascript
   // 房间状态分析
   runGeneralRoom.pollRooms();
   
   // PRTS系统监控
   prts.energy('E39N8');
   prts.listCreeps();
   
   // 检查生成需求
   runGeneralRoom.checkSpawnNeeds('E39N8');
   ```

#### 🔧 高级功能

**runGeneralRoom 通用房间管理系统**
- 支持RCL1-8的精确配置
- 自适应Extension检测
- 智能creep生成管理
- 全面的房间状态监控

**PRTS 精密侦察战术支援系统**
- 控制台美化和错误描述
- 实时房间状态分析
- 停滞检测和视觉警告
- 详细的creep性能监控

## 🏗️ 自动布局工具

### 63超级抠位置自动布局 傻瓜版

一个强大的自动房间布局工具，能够为95%的地形提供优化布局方案。

#### ✨ 特性

- **🎯 高覆盖率**：适用于95%的地形布局
- **🗺️ 畸形地图优化**：对复杂地形效果显著
- **⚡ 智能算法**：基于优先队列的路径优化
- **📊 详细输出**：提供完整的建筑位置信息

#### 🚀 使用方法

1. **设置标记点**
   ```javascript
   // 在房间中放置4个flag：
   // pc - 控制器位置
   // pm - 矿物位置  
   // pa - 能量源A位置
   // pb - 能量源B位置
   ```

2. **导入WASM模块**
   ```javascript
   // 下载并导入 algo_wasm_priorityqueue.wasm
   // 确保文件名正确（不要后缀）
   ```

3. **运行布局**
   ```javascript
   // 放置名为 'p' 的flag开始运行
   // 注意截图保存结果（显示时间很短）
   // 运行完成后flag会自动删除
   ```

#### 📋 输出格式

```javascript
{
    roomName: "房间名称",
    storagePos: {x: 25, y: 25},    // Storage集群中心
    labPos: {x: 30, y: 30},        // Lab中心位置
    structMap: {
        "spawn": [[x1,y1], [x2,y2]],
        "extension": [[x1,y1], ...],
        "road": [[x1,y1], ...],
        "rampart": [[x1,y1], ...],
        // ... 其他建筑类型
    }
}
```

#### ⚠️ 重要提醒

- **CPU要求**：确保bucket和可运行CPU超过100
- **运行时机**：建议在CPU充足时运行
- **结果保存**：及时截图保存布局结果
- **避免重复**：不要反复运行，消耗大量CPU

## 🛠️ 技术特点

### 系统架构
- **模块化设计**：清晰的代码结构，易于维护
- **状态机管理**：智能决策，减少不必要计算
- **错误处理**：完善的异常处理机制
- **性能优化**：内存和CPU使用优化

### 配置系统
- **统一配置**：config.js集中管理系统参数
- **灵活扩展**：支持自定义角色数量和行为
- **多房间支持**：单一系统管理多个房间
- **友军管理**：白名单系统支持友方玩家

### 监控系统
- **实时分析**：全面的房间状态监控
- **效率计算**：能量使用效率分析
- **视觉反馈**：游戏内状态显示
- **命令接口**：丰富的控制台命令

## 📚 快速开始

### 1. 环境准备
- Screeps游戏账号
- 至少一个拥有的房间
- 基础的JavaScript知识

### 2. 代码部署
```bash
# 1. 下载项目文件
# 2. 选择合适的机器人版本（推荐408Bot3）
# 3. 上传到Screeps代码库
# 4. 配置房间名称和参数
```

### 3. 系统启动
```javascript
// 系统会自动开始运行
// 使用控制台命令监控状态
runGeneralRoom.quickStatus();
```

### 4. 布局优化（可选）
```javascript
// 使用自动布局工具优化房间设计
// 按照布局工具说明操作
// 根据输出结果手动建造建筑
```

## 🔍 常见问题

**Q: 如何选择机器人版本？**
A: 推荐使用408Bot3，功能最完整且经过充分测试。

**Q: 如何添加新房间？**
A: 新房间会自动被系统发现，如需排除可在config.js中配置。

**Q: 布局工具CPU消耗过高怎么办？**
A: 确保bucket充足，选择CPU使用较少的时段运行。

**Q: 如何自定义creep配置？**
A: 通过runGeneralRoom系统的命令接口调整角色数量和配置。

## 📈 性能指标

- **CPU效率**：优化算法减少计算开销
- **内存管理**：自动清理，避免内存泄漏  
- **能量效率**：智能分配，最大化资源利用
- **响应速度**：实时监控，快速决策

## 🤝 贡献指南

欢迎提交Issue和Pull Request改进项目！

### 开发规范
- 遵循现有代码风格
- 添加中英文双语注释
- 更新相关文档
- 测试新功能兼容性

### 提交规范
- `feat:` 新功能开发
- `fix:` 问题修复
- `docs:` 文档更新
- `refactor:` 代码重构

## 📄 许可证

本项目采用 MIT 许可证开源。

## 🙏 致谢

- 感谢63大佬提供的自动布局算法
- 感谢Screeps社区的支持和贡献
- 感谢所有参与项目开发的贡献者

## 📞 联系方式

- 提交Issue到项目仓库
- 在Screeps游戏内联系
- 参与社区讨论

---

**愿此行，终抵群星** ⭐

> 这是一个持续发展的项目，致力于为Screeps玩家提供最优秀的AI管理系统和工具集合。